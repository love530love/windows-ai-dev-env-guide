# 04-å·¥å…·é“¾éš”ç¦»ï¼šæ„å»ºå¯å¤ç°çš„æœ¬åœ°åŒ–æ„å»ºç¯å¢ƒ  

> æœ¬ç« å‚è€ƒï¼š  
> - [æ„å»ºå·¥å…·é“¾éš”ç¦»å®è·µ](https://aicity.blog.csdn.net/article/details/148997254)ï¼ˆç¬¬4èŠ‚ï¼‰  
> - [é¡¹ç›®å¤ç°é™·é˜±ï¼šä¸ºä½•ä»…è¿ç§» .venv ç›®å½•ä»ä¼šå¤±è´¥ï¼Ÿ](https://aicity.blog.csdn.net/article/details/148874083)  


## ä¸€ã€éš”ç¦»ç›®æ ‡  

1. **æ¶ˆé™¤å…¨å±€ä¾èµ–å†²çª**  
   å°† `poetry`ã€`uv`ã€`hatch`ã€`pipenv`ã€`virtualenv` ç­‰æ„å»ºå·¥å…·å®‰è£…åˆ°é¡¹ç›®éš”ç¦»ç¯å¢ƒä¸­ï¼Œé¿å…ä¸åŒé¡¹ç›®ä¹‹é—´å·¥å…·ç‰ˆæœ¬ä¸ä¸€è‡´å¯¼è‡´çš„æ„å»ºå¤±è´¥ã€‚  

2. **ç¡®ä¿é¡¹ç›®å¯å¤ç°**  
   æ¯ä¸ªé¡¹ç›®è‡ªå¸¦æœ¬åœ°åŒ–å·¥å…·é“¾ï¼Œä¸ä¾èµ–å¤–éƒ¨å…¨å±€ç¯å¢ƒï¼Œæ‹‰å–ä»£ç å³èƒ½å¤ç°æ„å»ºç»“æœã€‚  

3. **æ”¯æŒç¦»çº¿ä¸å¿«é€Ÿéƒ¨ç½²**  
   æœ¬åœ°åŒ–å·¥å…·é“¾å¯è¢«æ‰“åŒ…ã€ç¼“å­˜ï¼Œæ”¯æŒç¦»çº¿ç¯å¢ƒä¸‹ä¸€é”®å®‰è£…ã€‚  


## äºŒã€éš”ç¦»æ–¹æ¡ˆ  

### 2.1 æ¨èæµç¨‹  

1. **åœ¨ Conda ä¸»ç¯å¢ƒä¸­å®‰è£…åŸºç¡€å·¥å…·**  
   ```powershell
   conda activate I:/DevTools/Anaconda/py311
   pip install --upgrade pip
   pip install poetry virtualenv pipenv uv hatch
   ```  
   > è¿™ä¸€æ­¥ä»…ç”¨äºâ€œå‡†å¤‡æ¨¡æ¿â€ï¼Œåç»­å„é¡¹ç›®ä½¿ç”¨å¤åˆ¶å¥½çš„ `.venv_template/`ã€‚  


2. **åœ¨é¡¹ç›®ç›®å½•åˆ›å»º `.venv` å¹¶å¤åˆ¶å·¥å…·é“¾**  
   ```powershell
   cd MyAiProject
   python -m venv .venv
   .\.venv\Scripts\activate
   pip install --upgrade pip
   pip install poetry virtualenv pipenv uv hatch
   ```  
   > æˆ–è€…ç›´æ¥å¤åˆ¶é¢„æ„å»ºå¥½çš„ `.venv_template/` åˆ°é¡¹ç›®æ ¹ç›®å½•ï¼Œå†æ¿€æ´»ä½¿ç”¨ã€‚  


3. **é”å®šå·¥å…·ç‰ˆæœ¬**  
   ```bash
   poetry lock
   pip freeze > .venv/requirements-tools.txt
   ```  


### 2.2 ç¤ºä¾‹ç›®å½•ç»“æ„  
```
MyAiProject/
â”œâ”€â”€ .venv/                          # æœ¬åœ°åŒ–è™šæ‹Ÿç¯å¢ƒï¼ˆæ ¸å¿ƒéš”ç¦»å•å…ƒï¼‰
â”‚   â”œâ”€â”€ Scripts/                    # å¯æ‰§è¡Œè„šæœ¬ç›®å½•
â”‚   â”‚   â”œâ”€â”€ python.exe              # é¡¹ç›®ä¸“å±è§£é‡Šå™¨
â”‚   â”‚   â””â”€â”€ pip.exe                 # éš”ç¦»çš„åŒ…ç®¡ç†å·¥å…·
â”‚   â””â”€â”€ Lib/
â”‚       â””â”€â”€ site-packages/          # æœ¬åœ°åŒ–å·¥å…·é“¾å­˜å‚¨
â”‚           â”œâ”€â”€ poetry/             # é¡¹ç›®å†… poetry å·¥å…·
â”‚           â”œâ”€â”€ uv/                 # é¡¹ç›®å†… uv å·¥å…·
â”‚           â”œâ”€â”€ hatch/              # é¡¹ç›®å†… hatch å·¥å…·
â”‚           â””â”€â”€ pipenv/             # é¡¹ç›®å†… pipenv å·¥å…·
â”œâ”€â”€ .venv-tools-requirements.txt    # å·¥å…·é“¾ç‰ˆæœ¬é”å®šæ–‡ä»¶ï¼ˆç¡®ä¿å¤ç°ä¸€è‡´æ€§ï¼‰
â”œâ”€â”€ pyproject.toml                  # poetry é¡¹ç›®é…ç½®ï¼ˆä¾èµ–å®šä¹‰ï¼‰
â””â”€â”€ README.md                       # å·¥å…·é“¾æ¿€æ´»ä¸ä½¿ç”¨è¯´æ˜
```  


## ä¸‰ã€å®æˆ˜æŠ€å·§  

- **æ¨¡æ¿åŒ–ä¸€é”®å¤åˆ¶**  
  å°†æ„å»ºå¥½çš„ `.venv` ç›®å½•å‹ç¼©ä¸º `venv_template.zip`ï¼Œåœ¨æ–°é¡¹ç›®ä¸­è§£å‹å¹¶æ›´åä¸º `.venv`ï¼Œå†è¿è¡Œä»¥ä¸‹å‘½ä»¤ä¿®å¤è·¯å¾„ä¾èµ–ï¼š  
  ```powershell
  .venv\Scripts\python -m pip install --upgrade pip
  ```  


- **ç¦»çº¿å®‰è£…æ”¯æŒ**  
  æå‰ä¸‹è½½å·¥å…·é“¾ä¾èµ–åŒ…ï¼Œæ”¯æŒæ— ç½‘ç»œç¯å¢ƒéƒ¨ç½²ï¼š  
  ```powershell
  # ä¸‹è½½ä¾èµ–åŒ…åˆ°æœ¬åœ°ç¼“å­˜
  pip download -r .venv-tools-requirements.txt -d ./offline_packages
  
  # ç¦»çº¿å®‰è£…ï¼ˆæ— ç½‘ç»œæ—¶æ‰§è¡Œï¼‰
  pip install --no-index --find-links ./offline_packages -r .venv-tools-requirements.txt
  ```  


- **é¿å…æƒé™é—®é¢˜**  
  ç¡®ä¿ `.venv` ç›®å½•è·¯å¾„æ— ç‰¹æ®Šå­—ç¬¦ä¸”éç³»ç»Ÿå—é™è·¯å¾„ï¼ˆå¦‚ `C:\Program Files`ï¼‰ï¼Œæ¨èæ”¾åœ¨é¡¹ç›®ä¸“å±ç›®å½•ï¼ˆå¦‚ `I:\Projects\MyAiProject`ï¼‰ã€‚  


## å››ã€å°ç»“  

- **æ ¸å¿ƒéš”ç¦»é€»è¾‘**ï¼šæ„å»ºå·¥å…·ä»â€œå…¨å±€å…±äº«â€è½¬ä¸ºâ€œé¡¹ç›®ç§æœ‰â€ï¼Œå·¥å…·ç‰ˆæœ¬éšé¡¹ç›®ä»£ç ä¸€èµ·ç®¡ç†ã€‚  
- **å¤ç°å…³é”®**ï¼šé€šè¿‡ `requirements-tools.txt` é”å®šå·¥å…·ç‰ˆæœ¬ï¼Œé…åˆ `.venv` ç›®å½•å¤åˆ¶å®ç°ç¯å¢ƒä¸€è‡´ã€‚  
- **è½åœ°ä»·å€¼**ï¼šè§£å†³â€œåŒä¸€å°æœºå™¨ä¸åŒé¡¹ç›®å·¥å…·å†²çªâ€â€œæ¢è®¾å¤‡åæ„å»ºå¤±è´¥â€ç­‰ç»å…¸é—®é¢˜ã€‚  


> ğŸ”— å»¶ä¼¸é˜…è¯»ï¼š  
> - [å·¥å…·é“¾éš”ç¦»å®è·µ](https://aicity.blog.csdn.net/article/details/148997254)  
> - [é¡¹ç›®å¤ç°é™·é˜±ï¼šä¸ºä½•ä»…è¿ç§» .venv ç›®å½•ä»ä¼šå¤±è´¥ï¼Ÿ](https://aicity.blog.csdn.net/article/details/148874083)
